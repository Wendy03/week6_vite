import{m as P,a as f,_ as y,o as i,c,e as t,t as n,l as k,F as u,j as _,q as T,v as L,p as g,d as I,r as h,b as v}from"./index-e4abd600.js";import{T as D}from"./Toast-70b26cd7.js";import{c as E}from"./cartStore-b1199c31.js";import{s as m}from"./statusStore-8f982174.js";const{VITE_API:S,VITE_PATH:q}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"coffee11",BASE_URL:"/week6_vite/",MODE:"production",DEV:!1,PROD:!0},p=m(),w={data(){return{product:{},qty:1,isProcessing:!1}},methods:{getProduct(){p.isLoading=!0;const{id:r}=this.$route.params;this.$http.get(`${S}/api/${q}/product/${r}`).then(o=>{p.isLoading=!1;const{product:a}=o.data;this.product=a}).catch(o=>{var d;const a=(d=o.data)==null?void 0:d.message;p.isLoading=!1,D.fire({title:`${a}`,icon:"error"})})},...P(E,["addToCart"])},computed:{...f(m,["loadingItem"])},mounted(){this.getProduct()}},A={class:"mt-5"},C={class:"row"},U={class:"col-sm-5"},$={key:0,class:"row"},B={class:"col-3"},N=["src","alt"],M={class:"col-sm-7"},z={class:"badge bg-primary rounded-pill mb-2"},F={class:"h5"},H={class:"input-group mt-5"},O=["value"],R={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function j(r,o,a,d,e,b){return i(),c("div",A,[t("h2",null,n(e.product.title),1),t("div",C,[t("div",U,[t("div",{style:k([{"min-height":"50vh","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.product.imageUrl})`}])},null,4),(i(!0),c(u,null,_(e.product.imagesUrl,(s,l)=>(i(),c(u,{key:l+"img"},[s?(i(),c("div",$,[t("div",B,[t("img",{src:s,alt:l+"img",class:"card-image mt-2 w-100"},null,8,N)])])):g("",!0)],64))),128))]),t("div",M,[t("span",z,n(e.product.category),1),t("p",null,"商品描述："+n(e.product.description),1),t("p",null,"商品內容："+n(e.product.content),1),t("div",F,n(e.product.price)+" 元",1),t("div",H,[T(t("select",{class:"form-select",name:"qty","onUpdate:modelValue":o[0]||(o[0]=s=>e.qty=s)},[(i(),c(u,null,_(5,s=>t("option",{value:s,key:s+"num"},n(s)+" "+n(e.product.unit),9,O)),64))],512),[[L,e.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary",onClick:o[1]||(o[1]=s=>r.addToCart(e.product.id,e.qty))},[e.product.id===r.loadingItem?(i(),c("span",R)):g("",!0),I(" 加入購物車 ")])])])])])}const x=y(w,[["render",j]]),G={data(){return{}},components:{ProductDetail:x},computed:{...f(m,["isLoading"])}};function J(r,o,a,d,e,b){const s=h("VueLoading"),l=h("ProductDetail");return i(),c("div",null,[v(s,{active:r.isLoading,"onUpdate:active":o[0]||(o[0]=V=>r.isLoading=V)},null,8,["active"]),v(l)])}const Y=y(G,[["render",J]]);export{Y as default};
