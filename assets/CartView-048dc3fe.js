import{R as w,m as $,a as _,_ as m,r as f,o,c as n,e as t,F as k,j as x,t as a,b as d,w as u,d as h,k as r}from"./index-e4abd600.js";import{c as b}from"./cartStore-b1199c31.js";import{s as L}from"./statusStore-8f982174.js";import"./Toast-70b26cd7.js";const j={data(){return{}},components:{RouterLink:w},methods:{...$(b,["getCarts","updateCart","removeCartItem","deleteAllCarts"])},computed:{..._(b,["cart"]),..._(L,["isProcessing"])},mounted(){this.getCarts()}},N={key:0},q=["src","alt"],A={class:"w-100 p-3 position-relative"},R=["onClick"],S=t("i",{class:"bi bi-x-lg"},null,-1),T=[S],V={class:"mb-0 fw-bold"},B={class:"mb-1 text-muted",style:{"font-size":"14px"}},P={class:"d-flex justify-content-between align-items-center w-100"},E={class:"input-group w-50 align-items-center"},F={class:"input-group-prepend pe-1"},I=["onClick","disabled"],z=t("i",{class:"bi bi-dash-lg"},null,-1),D=[z],M=["value"],U={class:"input-group-append ps-1"},G=["onClick","disabled"],H=t("i",{class:"bi bi-plus"},null,-1),J=[H],K={class:"mb-0 ms-auto"},O={class:"table mt-4 text-muted"},Q=t("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"}," 小計 ",-1),W={class:"text-end border-0 px-0 pt-0"},X={class:"d-flex justify-content-between mt-4"},Y=t("p",{class:"mb-0 h4 fw-bold"},"總計",-1),Z={class:"mb-0 h4 fw-bold"},tt={key:1},st=t("h4",{class:"mt-5"},"尚無資料",-1);function et(e,c,g,v,y,C){var l;const i=f("RouterLink");return o(),n("div",null,[(l=e.cart.carts)!=null&&l.length?(o(),n("div",N,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:c[0]||(c[0]=(...s)=>e.deleteAllCarts&&e.deleteAllCarts(...s))}," 清空購物車 "),(o(!0),n(k,null,x(e.cart.carts,s=>(o(),n("div",{key:s.id,class:"d-flex mt-4 bg-light"},[t("img",{src:s.product.imageUrl,alt:s.product.title,style:{width:"120px",height:"120px","object-fit":"cover"}},null,8,q),t("div",A,[t("a",{href:"#",onClick:r(p=>e.removeCartItem(s.id),["prevent"]),class:"position-absolute",style:{top:"16px",right:"16px"}},T,8,R),t("p",V,a(s.product.title),1),t("p",B,a(s.product.description),1),t("div",P,[t("div",E,[t("div",F,[t("button",{href:"#",onClick:r(p=>e.updateCart(s,s.qty-1),["prevent"]),disabled:e.isProcessing||s.qty===1},D,8,I)]),t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light px-0",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",readonly:"",value:s.qty},null,8,M),t("div",U,[t("button",{href:"#",onClick:r(p=>e.updateCart(s,s.qty+1),["prevent"]),disabled:e.isProcessing||s.qty===5},J,8,G)])]),t("p",K,"NT$"+a(s.total),1)])])]))),128)),t("table",O,[t("tbody",null,[t("tr",null,[Q,t("td",W,"NT$"+a(e.cart.total),1)])])]),t("div",X,[Y,t("p",Z,"NT$"+a(e.cart.final_total),1)]),d(i,{to:"/order",class:"btn btn-secondary btn-block mt-4 rounded-0 py-3"},{default:u(()=>[h("確認訂單")]),_:1})])):(o(),n("div",tt,[st,d(i,{class:"btn btn-secondary mt-5",to:"/products"},{default:u(()=>[h("選購去")]),_:1})]))])}const ot=m(j,[["render",et]]),nt={data(){return{}},components:{CartList:ot}},at={class:"row justify-content-center"},it={class:"col-md-6 bg-white py-5",style:{"min-height":"calc(100vh - 56px - 76px)"}},ct=t("div",{class:"d-flex justify-content-between"},[t("h2",{class:"mt-2"},"購物車")],-1);function rt(e,c,g,v,y,C){const i=f("CartList");return o(),n("div",at,[t("div",it,[ct,d(i)])])}const ut=m(nt,[["render",rt]]);export{ut as default};
